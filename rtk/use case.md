
# Выгрузка персональных данных по запросу пользователя

## Акторы:

   + Пользователь
   + Представитель пользователя
   + Госорганы

## Цель:

- Выгрузить личные данные (переписку, фото, видео, аудио данные) мобильного телефона и персонального ПК в облачные хранилища, на мобильный телефон, ПК.

## Предусловия: 

- Пользователь зарегестрирован, приложение установлено на устройстве с которого идет запрос на скачивание. По умолчанию настроен путь на хранение данных.

## Сценарий:

   1. Пользователь выбираеткоманду выгрузить данные
   2. Предлагается выбрать выгрузить данные с сохранением в чате или нет. Выбрано с сохранением. **1***
   + Пользователь выбирает какие данные выгрузить
   + Предлагается выбрать путь сохранения. Предлагается путь по умолчанию. **2***
   + Проверяется наличие интернет соединения. 
   + Предлагается синхронизировать данные со всеми устройствами **3***
   + Сохраняются данные
    
***
### Альтернативный сценарий
- **1*** - Если пользователь выбирает без сохранения данных, запоминается данная настрйока и после последнего шага данные удаляются
- **2*** - Если путь по умолчанию не настроен предлается выбрать путь.
- **3*** - Проверются уже сохраненные данные. Если сущестувуют копии, пропускается. Чат - проверяется последнее сообщение и сохраняется после него.
***
   
## Результат:

   + Данные загружены по необходимому пути.

## Исключения:

   - При остсутсвии интернета ошибка и предложение повтора попытки соединения или отмена всех действий.
   - При отстутсвии достаточного места для хранения предупреждение и отмена всех дейсвий
   - При выгрузке данных с удалением, данные факта отправки сообщения не удаляются в с датой младше года, выдается предупреждение.

# Хранение факта отправки сообщения пользователем в течении года

## Акторы:

   + Система

## Цель:

- Хранение фактов отправки.

## Предусловия: 

- Есть БД для хранения. Создан чат. Пользователь отправил сообщение.

## Сценарий:

   1. Пользователь отправил сообщение
   2. Доставка сообщения адресату   
       + Парсится сообщение, где бертся дата, кому, и id сообщения
       + Сохранение в БД
       + Сообщение доставлено адресату       
   3. Раз в месяц или по запросу администратора системы проверяются данные и удалются факты отправки сообщения старше года.
    
***
### Альтернативный сценарий
- отсутствует
***
   
## Результат:

   + Факт отправки сохранен в БД.

## Исключения:

   - При остуствии соединения с БД выдается сообщение об отсутсвии интернет соединения


# Выгрузка фактов отправки сообщений по запросу госорганов

## Акторы:

   + Госорганы

## Цель:

- Выгрузка факта в отправки сообщения.

## Предусловия: 

- Есть БД для хранения сообщений с обеих сторон. Госорганы зарегестированы в системе.

## Сценарий:

   1. Госорганы отправли запрос на наличие пользователя в базе.***1**
   2. True. Продолжается запрос на наличие чатов у этого пользователя.***2**
   3. True. Предлагается выгрузить определенный чат или все. По умолчанию за год. Может выбрать за определенный срок.
   4. Загружаются данные в базу госорагнов.
    
***
### Альтернативный сценарий
 1. Отмена действий. Ответ об отсутсвии пользователя.
 2. Отмета действий. Ответ об отстутвии чатов.
***
   
## Результат:

   + Факт отправки сохранен в БД.

## Исключения:

   - При остуствии соединения с БД выдается сообщение об отсутсвии интернет соединения

This is [UML Diagram](https://drive.google.com/file/d/1e8CO2r_JnC59qnO52xLTy1_qNOYzhcJ3/view?usp=sharing).


